using System;

class BankaHesabi
{
    private string hesapSahibi;
    private string hesapNumarasi;
    private decimal bakiye;

    public string HesapSahibi
    {
        get { return hesapSahibi; }
        set { hesapSahibi = value; }
    }

    public string HesapNumarasi
    {
        get { return hesapNumarasi; }
        set { hesapNumarasi = value; }
    }

    public decimal Bakiye
    {
        get { return bakiye; }
        set
        {
            if (value >= 0) // Bakiye negatif olamaz
                bakiye = value;
            else
                Console.WriteLine("Hatalı bakiye değeri girdiniz.");
        }
    }

    public BankaHesabi(string hesapSahibi, string hesapNumarasi, decimal bakiye)
    {
        this.hesapSahibi = hesapSahibi;
        this.hesapNumarasi = hesapNumarasi;
        this.Bakiye = bakiye; // Bakiye property'si aracılığıyla değeri atar ve bakiye sınırlamasını kontrol eder.
    }

    public void ParaYatir(decimal miktar)
    {
        Bakiye += miktar;
        Console.WriteLine($"{hesapSahibi} adlı hesaba {miktar} TL yatırıldı. Yeni bakiye: {Bakiye} TL");
    }

    public void ParaCek(decimal miktar)
    {
        if (Bakiye >= miktar)
        {
            Bakiye -= miktar;
            Console.WriteLine($"{hesapSahibi} adlı hesaptan {miktar} TL çekildi. Yeni bakiye: {Bakiye} TL");
        }
        else
        {
            Console.WriteLine("Yetersiz bakiye. İşlem gerçekleştirilemedi.");
        }
    }

    public void HesapBilgileriYazdir()
    {
        Console.WriteLine($"Hesap Sahibi: {HesapSahibi}, Hesap Numarası: {HesapNumarasi}, Bakiye: {Bakiye} TL");
    }
}


class Program
{
    static void Main()
    {
        Console.WriteLine("Banka Hesabı Oluşturma");

        Console.Write("Hesap Sahibi: ");
        string hesapSahibi = Console.ReadLine();

        Console.Write("Hesap Numarası: ");
        string hesapNumarasi = Console.ReadLine();

        Console.Write("Bakiye: ");
        decimal bakiye;
        while (!decimal.TryParse(Console.ReadLine(), out bakiye) || bakiye < 0)
        {
            Console.WriteLine("Geçersiz bakiye değeri. Lütfen pozitif bir sayı girin.");
            Console.Write("Bakiye: ");
        }

        BankaHesabi hesap = new BankaHesabi(hesapSahibi, hesapNumarasi, bakiye);

        Console.WriteLine("\nBanka Hesabı Oluşturuldu:");
        hesap.HesapBilgileriYazdir();

        Console.WriteLine("\nPara Yatırma");
        Console.Write("Yatırılacak Miktar: ");
        decimal yatirilanMiktar;
        while (!decimal.TryParse(Console.ReadLine(), out yatirilanMiktar) || yatirilanMiktar < 0)
        {
            Console.WriteLine("Geçersiz miktar. Lütfen pozitif bir sayı girin.");
            Console.Write("Yatırılacak Miktar: ");
        }

        hesap.ParaYatir(yatirilanMiktar);
        hesap.HesapBilgileriYazdir();

        Console.WriteLine("\nPara Çekme");
        Console.Write("Çekilecek Miktar: ");
        decimal cekilenMiktar;
        while (!decimal.TryParse(Console.ReadLine(), out cekilenMiktar) || cekilenMiktar < 0)
        {
            Console.WriteLine("Geçersiz miktar. Lütfen pozitif bir sayı girin.");
            Console.Write("Çekilecek Miktar: ");
        }

        hesap.ParaCek(cekilenMiktar);
        hesap.HesapBilgileriYazdir();

        Console.ReadLine();

    }
}
